/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2011 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.7.0-dev
 *
 */
(function(a,d){var e=a(d);a.fn.lazyload=function(c){var b={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:d,skip_invisible:!0,data_attr:"origin"};if(c){if(null!==c.failurelimit)c.failure_limit=c.failurelimit,delete c.failurelimit;a.extend(b,c)}var f=this;0==b.event.indexOf("scroll")&&a(b.container).bind(b.event,function(){var c=0;f.each(function(){if((!b.skip_invisible||a(this).is(":visible"))&&!a.abovethetop(this,b)&&!a.leftofbegin(this,b))if(!a.belowthefold(this,b)&&!a.rightoffold(this,
b))a(this).trigger("appear");else if(++c>b.failure_limit)return!1});var d=a.grep(f,function(a){return!a.loaded});f=a(d)});this.each(function(){var c=this;c.loaded=!1;a(c).one("appear",function(){this.loaded||a("<img />").bind("load",function(){a(c).hide().attr("src",a(c).data(b.data_attr)||a(c).attr(b.data_attr))[b.effect](b.effectspeed);c.loaded=!0}).attr("src",a(c).data(b.data_attr)||a(c).attr(b.data_attr))});0!=b.event.indexOf("scroll")&&a(c).bind(b.event,function(){c.loaded||a(c).trigger("appear")})});
e.bind("resize",function(){0===b.event.indexOf("scroll")?d.scrollTo(e.scrollLeft(),e.scrollTop()):a(b.container).trigger(b.event)});d.scrollTo(e.scrollLeft(),e.scrollTop());return this};a.belowthefold=function(c,b){return(void 0===b.container||b.container===d?e.height()+e.scrollTop():a(b.container).offset().top+a(b.container).height())<=a(c).offset().top-b.threshold};a.rightoffold=function(c,b){return(void 0===b.container||b.container===d?e.width()+e.scrollLeft():a(b.container).offset().left+a(b.container).width())<=
a(c).offset().left-b.threshold};a.abovethetop=function(c,b){return(void 0===b.container||b.container===d?e.scrollTop():a(b.container).offset().top)>=a(c).offset().top+b.threshold+a(c).height()};a.leftofbegin=function(c,b){return(void 0===b.container||b.container===d?e.scrollLeft():a(b.container).offset().left)>=a(c).offset().left+b.threshold+a(c).width()};a.extend(a.expr[":"],{"below-the-fold":function(c){return a.belowthefold(c,{threshold:0,container:d})},"above-the-fold":function(c){return!a.belowthefold(c,
{threshold:0,container:d})},"right-of-fold":function(c){return a.rightoffold(c,{threshold:0,container:d})},"left-of-fold":function(c){return!a.rightoffold(c,{threshold:0,container:d})}})})(jQuery,window);
