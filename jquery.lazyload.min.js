/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2012 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.8.3
 *
 */
;(function(a,b,c,d){var e=a(b);a.extend({belowthefold:function(c,f){var g;return g=f.container===d||f.container===b?e.height()+e.scrollTop():a(f.container).offset().top+a(f.container).height(),a(c).offset().top-f.threshold>=g},rightoffold:function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+a(f.container).width(),a(c).offset().left-f.threshold>=g},abovethetop:function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},leftofbegin:function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},inviewport:function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))}}).fn.extend({lazyload:function(){var f,c=this,g={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null},h=function(){var b=0;c.each(function(){var c=a(this);if(!g.skip_invisible||c.is(":visible"))if(a.abovethetop(this,g)||a.leftofbegin(this,g));else if(a.belowthefold(this,g)||a.rightoffold(this,g)){if(++b>g.failure_limit)return!1}else c.trigger("appear"),b=0})};return options&&(d!==options.failurelimit&&(options.failure_limit=options.failurelimit,delete options.failurelimit),d!==options.effectspeed&&(options.effect_speed=options.effectspeed,delete options.effectspeed),a.extend(g,options)),f=g.container===d||g.container===b?e:a(g.container),0===g.event.indexOf("scroll")&&f.on(g.event,function(){return h()}),this.each(function(){var b=this,d=a(b);b.loaded=!1,d.one("appear",function(){if(!this.loaded){if(g.appear){var e=c.length;g.appear.call(b,e,g)}a("<img>").on("load",function(){d.hide().prop("src",d.data(g.data_attribute))[g.effect](g.effect_speed),b.loaded=!0;var e=a.grep(c,function(a){return!a.loaded});if(c=a(e),g.load){var f=c.length;g.load.call(b,f,g)}}).prop("src",d.data(g.data_attribute))}}),0!==g.event.indexOf("scroll")&&d.on(g.event,function(){b.loaded||d.trigger("appear")})}),e.on("resize",function(){h()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&e.on("pageshow",function(b){b.originalEvent.persisted&&c.each(function(){a(this).trigger("appear")})}),e.on("load",function(){h()}),this}}),a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})})(jQuery,window,document);