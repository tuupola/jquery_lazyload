a/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2013 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.8.4
 *
 */
(function(n,t,i,r){var u=n(t);n.fn.lazyload=function(i){function o(){var t=0;e.each(function(){var i=n(this);if((!f.skip_invisible||i.is(":visible"))&&!n.abovethetop(this,f)&&!n.leftofbegin(this,f))if(n.belowthefold(this,f)||n.rightoffold(this,f)){if(++t>f.failure_limit)return!1}else i.trigger("appear"),t=0})}var e=this,s,f={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return i&&(r!==i.failurelimit&&(i.failure_limit=i.failurelimit,delete i.failurelimit),r!==i.effectspeed&&(i.effect_speed=i.effectspeed,delete i.effectspeed),n.extend(f,i)),s=f.container===r||f.container===t?u:n(f.container),0===f.event.indexOf("scroll")&&s.bind(f.event,function(){return o()}),this.each(function(){var t=this,i=n(t);t.loaded=!1;i.one("appear",function(){if(!this.loaded){if(f.appear){var r=e.length;f.appear.call(t,r,f)}n("<img />").bind("load",function(){var r,u;i.hide().attr("src",i.data(f.data_attribute))[f.effect](f.effect_speed),t.loaded=!0,r=n.grep(e,function(n){return!n.loaded}),e=n(r),f.load&&(u=e.length,f.load.call(t,u,f))}).attr("src",i.data(f.data_attribute))}});0!==f.event.indexOf("scroll")&&i.bind(f.event,function(){t.loaded||i.trigger("appear")})}),u.bind("resize",function(){o()}),/iphone|ipod|ipad.*os 5/gi.test(navigator.appVersion)&&u.bind("pageshow",function(t){t.originalEvent.persisted&&e.each(function(){n(this).trigger("appear")})}),imagesLoaded(this,function(){o()}),this},n.belowthefold=function(i,f){var e;return e=f.container===r||f.container===t?u.height()+u.scrollTop():n(f.container).offset().top+n(f.container).height(),e<=n(i).offset().top-f.threshold},n.rightoffold=function(i,f){var e;return e=f.container===r||f.container===t?u.width()+u.scrollLeft():n(f.container).offset().left+n(f.container).width(),e<=n(i).offset().left-f.threshold},n.abovethetop=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollTop():n(f.container).offset().top,e>=n(i).offset().top+f.threshold+n(i).height()},n.leftofbegin=function(i,f){var e;return e=f.container===r||f.container===t?u.scrollLeft():n(f.container).offset().left,e>=n(i).offset().left+f.threshold+n(i).width()},n.inviewport=function(t,i){return!n.rightoffold(t,i)&&!n.leftofbegin(t,i)&&!n.belowthefold(t,i)&&!n.abovethetop(t,i)},n.extend(n.expr[":"],{"below-the-fold":function(t){return n.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return n.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!n.rightoffold(t,{threshold:0})},"in-viewport":function(t){return n.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!n.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return n.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!n.rightoffold(t,{threshold:0})}})})(jQuery,window,document);